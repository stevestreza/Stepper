/*
 * Stepper v3.0.7 - 2014-11-25
 * A jQuery plugin for cross browser number inputs. Part of the Formstone Library.
 * http://formstone.it/stepper/
 *
 * Copyright 2014 Ben Plum; MIT Licensed
 */

!function(t){"use strict";function e(e){e=t.extend({},d,e||{});for(var s=t(this),p=0,r=s.length;r>p;p++)a(s.eq(p),e);return s}function a(e,a){if(!e.hasClass("stepper-input")){a=t.extend({},a,e.data("stepper-options"));var r=parseFloat(e.attr("min")),n=parseFloat(e.attr("max")),i=parseFloat(e.attr("step"))||1;e.addClass("stepper-input").wrap('<div class="stepper '+a.customClass+'" />').after('<span class="stepper-arrow up">'+a.labels.up+'</span><span class="stepper-arrow down">'+a.labels.down+"</span>");var u=e.parent(".stepper"),d=t.extend({$stepper:u,$input:e,$arrow:u.find(".stepper-arrow"),min:void 0===typeof r||isNaN(r)?!1:r,max:void 0===typeof n||isNaN(n)?!1:n,step:void 0===typeof i||isNaN(i)?1:i,timer:null},a);d.digits=o(d.step),e.is(":disabled")&&u.addClass("disabled"),u.on("keypress",".stepper-input",d,s),u.on("touchstart.stepper mousedown.stepper",".stepper-arrow",d,p),e.data("stepper",d)}}function s(t){var e=t.data;(38===t.keyCode||40===t.keyCode)&&(t.preventDefault(),n(e,38===t.keyCode?e.step:-e.step))}function p(e){e.preventDefault(),e.stopPropagation(),r(e);var a=e.data;if(!a.$input.is(":disabled")&&!a.$stepper.hasClass("disabled")){var s=t(e.target).hasClass("up")?a.step:-a.step;n(a,s),t("body").on("touchend.stepper mouseup.stepper",a,r)}}function r(e){e.preventDefault(),e.stopPropagation();var a=e.data;i(a.timer),t("body").off(".stepper")}function n(t,e){var a=parseFloat(t.$input.val()),s=e;void 0===typeof a||isNaN(a)?s=t.min!==!1?t.min:0:t.min!==!1&&a<t.min?s=t.min:s+=a;var p=(s-t.min)%t.step;0!==p&&(s-=p),t.min!==!1&&s<t.min&&(s=t.min),t.max!==!1&&s>t.max&&(s-=t.step),s!==a&&(s=u(s,t.digits),t.$input.val(s).trigger("change"))}function i(t){t&&(clearInterval(t),t=null)}function o(t){var e=String(t);return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}function u(t,e){var a=Math.pow(10,e);return Math.round(t*a)/a}var d={customClass:"",labels:{up:"Up",down:"Down"}},l={defaults:function(e){return d=t.extend(d,e||{}),"object"==typeof this?t(this):!0},destroy:function(){return t(this).each(function(){var e=t(this).data("stepper");e&&(e.$stepper.off(".stepper").find(".stepper-arrow").remove(),e.$input.unwrap().removeClass("stepper-input"))})},disable:function(){return t(this).each(function(){var e=t(this).data("stepper");e&&(e.$input.attr("disabled","disabled"),e.$stepper.addClass("disabled"))})},enable:function(){return t(this).each(function(){var e=t(this).data("stepper");e&&(e.$input.attr("disabled",null),e.$stepper.removeClass("disabled"))})}};t.fn.stepper=function(t){return l[t]?l[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?this:e.apply(this,arguments)},t.stepper=function(t){"defaults"===t&&l.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,this);